<div class="container-fluid">
  <div class="form-group row">
    <label for="Task" class="col-sm-2 col-form-label">Task:</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" id="Task" [(ngModel)]="searchTask">
    </div>
    <label for="ParentTask" class="col-sm-2 col-form-label">Parent Task:</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" id="ParentTask" [(ngModel)]="searchParentTask">
    </div>
  </div>
  <div class="form-group row">
    <label for="PriorityFrom" class="col-sm-2 col-form-label">Priority From:</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" id="PriorityFrom" [(ngModel)]="searchPriorityFrom">
    </div>
    <label for="PriorityTo" class="col-sm-2 col-form-label">Priority To:</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" id="PriorityTo" [(ngModel)]="searchPriorityTo">
    </div>
  </div>
  <div class="form-group row">
    <label for="StartDate" class="col-sm-2 col-form-label">Start Date:</label>
    <div class="col-sm-4">
      <input type="date" class="form-control" id="StartDate" [(ngModel)]="searchStartDate">
    </div>
    <label for="EndDate" class="col-sm-2 col-form-label">End Date:</label>
    <div class="col-sm-4">
      <input type="date" class="form-control" id="EndDate" [(ngModel)]="searchEndDate">
    </div>
  </div>
  <hr class="dotted-hr" />
  <div class="container-fluid"
    *ngFor="let task of tasks | search:searchTask:searchParentTask:searchPriorityFrom:searchPriorityTo:searchStartDate:searchEndDate">
    <div class="col-xs-12">
      <table>
        <tr>
          <th>Task</th>
          <th>Parent</th>
          <th>Priority</th>
          <th>Start</th>
          <th>End</th>
          <th colspan="2"></th>
        </tr>
        <tr>
          <td>
            <div class="card">
              <div class="card-body" style="text-align:center">
                {{task.task}}
              </div>
            </div>
          </td>
          <td>
            <div class="card">
              <div class="card-body" style="text-align:center">
                {{task.parentTask!=null?task.parentTask:'Task has no parent'}}
              </div>
            </div>
          </td>
          <td>
            <div class="card">
              <div class="card-body" style="text-align:center">
                {{task.priority}}
              </div>
            </div>
          </td>
          <td>
            <div class="card">
              <div class="card-body" style="text-align:center">
                {{task.startDate | date: 'dd/MM/yyyy'}}
              </div>
            </div>
          </td>
          <td>
            <div class="card">
              <div class="card-body" style="text-align:center">
                {{task.endDate | date: 'dd/MM/yyyy'}}
              </div>
            </div>
          </td>
          <td *ngIf="!task.finished">
            <button type="button" class="btn btn-primary btn-block" (click)="editTask(task._id)">
              Edit
            </button>
          </td>
          <td *ngIf="!task.finished">
            <button type="button" class="btn btn-primary btn-block" (click)="endTask(task._id)">
              End Task
            </button>
          </td>
          <td colspan="2" style="text-align:center" *ngIf="task.finished">
            Task is Finished
          </td>
        </tr>
      </table>
    </div>
    <hr class="dotted-hr" />
  </div>
</div>